<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>NKN Metadata Editor</title>
</head>

<body>
<div  id="bodyDiv">
  <div ng-app="metadataEditor" ng-controller="FormCtrl">
  <link rel="stylesheet" 
      href="/frontend/bower_components/bootstrap/dist/css/bootstrap.css">
  <link rel="stylesheet" 
      href="/frontend/metadata.css">
  <link rel="stylesheet" 
      href="/frontend/bower_components/octicons/octicons/octicons.css">
  <link rel="stylesheet" 
      href="/frontend/bower_components/jquery-ui/themes/smoothness/jquery-ui.css"/>
  <script type="text/javascript" 
      src="/frontend/bower_components/jquery/dist/jquery.min.js">
  </script>
  <script type="text/javascript" 
      src="/frontend/bower_components/jquery-ui/jquery-ui.min.js">
  </script>
  <script type="text/javascript" 
          src="/frontend/bower_components/bootstrap/dist/js/bootstrap.min.js">
  </script>
  <script type="text/javascript" 
      src="/frontend/bower_components/angular/angular.js"></script>
  <script type="text/javascript" 
      src="/frontend/bower_components/angular-ui-date/src/date.js"></script>
  <script type="text/javascript" 
      src="/frontend/bower_components/angular-route/angular-route.min.js"></script>
  <script type="text/javascript" 
      src="/frontend/bower_components/underscore/underscore-min.js"></script>
  <script src="/frontend/js/controllers.js"></script>
  <!--<script src="/frontend/js/routes.js"></script>-->

  <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">

          <button tabindex=24 class="navbar-toggle collapsed" aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" type="button"><span class="sr-only">Toggle menu</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>

          <!--<a class="navbar-brand" href="#">NKN Metadata Editor</a>-->
          <a href="#list" 
             class="btn btn-small btn-default navbar-btn">
            Edit Existing
          </a>

          <button tabindex=24 ng-click="createNewRecord()" 
                  class="btn btn-small btn-primary navbar-btn">
            Create New
          </button>

          <button tabindex=25 ng-show="newRecord" 
                  class="btn btn-small btn-primary navbar-btn" 
                  type="submit" ng-click="submitDraftRecord()">
            Save Draft
          </button>
          
          <button tabindex=25 ng-show="!newRecord" 
                  class="btn btn-small btn-primary navbar-btn" 
                  type="submit" 
                  ng-click="submitDraftRecord()">
            Save Changes to Draft
          </button>

          <!-- 
          Controller will handle case where form is valid, but a draft has
          not yet been submitted.
          -->
          <button tabindex=25 ng-show="metadataForm.$valid" 
                  class="btn btn-small btn-primary navbar-btn" 
                  type="submit" ng-click="publishRecord()">
            Publish Record to NKN Portal
          </button>

          <button tabindex=24 href="#/iso" ng-click="toggleMetadataType('iso')"
             class="btn btn-small btn-primary navbar-btn">
            Create Dataset Record
          </button>

          <button tabindex=24 href="#/dublin" ng-click="toggleMetadataType('dublin')"
             class="btn btn-small btn-primary navbar-btn">
            Create Other Research Product Record
          </button>

          <button tabindex=24 ng-click="defaultMILES()" 
                  class="btn btn-small btn-primary navbar-btn">
            Load MILES Defaults
          </button>

          <button tabindex=25 class="btn btn-small btn-danger navbar-btn"
            ng-hide="metadataForm.$valid">
           Please fix errors before publishing to NKN Portal
          </button>
      </div>

        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/#go-to-modal-info">Info</a></li>
            <li>
              <a href="https://github.com/northwest-knowledge-network/mdedit">
                <span class="octicon octicon-mark-github" id="mdedit"></span>
              </a>
            </li>
          </ul>
        </div>
        
      </div>
    </nav>

<div id="main-container" class="container">

      <h5> Get started using NKN's Metadata Editor: </h5>
      <div style="margin-left: 2em; font-size: small">
        You can use this form to create a valid ISO 19115 metadata record for your dataset or dataset series. Use the <strong><i>Save Draft</strong></i> button to save your work at any point. At the bottom of your screen you will see a list of your saved metadata records. Use the <strong><i>Edit</strong></i> button located to the right to open up an existing draft record to continue working on it. Use the <strong><i>Submit Changes to Draft</strong></i> button to save your new version of this metadata record. Once you have completed all required fields in the form (highlighted in red), you will have the option to submit your record to the NKN Portal for publication, use the <strong><i>Publish Record to NKN Portal</strong></i>. Once submitted, we will review and publish your record. If you make changes to a record you have already submited, you will need to resubmit. To view your metadata record as valid ISO 19115 metadata, use the <strong><i>ISO</strong></i> button in your list of records at the bottom of the screen. You can start a new record at any time by using the <strong><i>Create New</strong></i> button or loading project defaults if you submitting metadata related to a NKN-supported project.
        </p>
        Please contact <a href="mailto:mguarinello@uidaho.edu"> NKN's Data Manager</a> if you have additional questions or if you have data associated with this metadata record that you would like to store in NKN's repository.
      </div>
    
      <br>
    
      <h5>Special Instructions for MILES users:</h5>
       <div style="margin-left: 2em; font-size: small">
        Use the <strong><i>Load MILES Default</strong></i> button above to pre-load some of the fields with MILES-related content. Please add to these fields as appropriate: for example, you will likely want to add <i>place and thematic keywords</i> related to your specific dataset. The <i>bounding coordinates</i> provided here are for the entire state of Idaho; modify to fit the location of your dataset if appropriate. NKN has been listed as the <i>data access contact</i> and will need to be changed if your data files themselves will be stored in an alternative data repository (please refer to the official MILES Data Management Plan for a list of approved repositories). Please provide the first author's name and university affiliation toward the end of the <i>use restrictions</i> text where it currently reads "(Name, University Affiliation)". Please contact the <a href="mailto:mguarinello@uidaho.edu"> MILES Data Manager</a> if you have additional questions or if you have data associated with this metadata record that you would like to store in NKN's repository.
      </div>
    

      <hr>

      <h2 id="record-title" ng-show="newRecord">New Metadata Record: {{currentRecord.title}}</h2>
      <h2 id="record-title" ng-show="!newRecord">Editing Existing: {{currentRecord.title}}</h2>
  

    <br>

    <div ng-include="'iso.html'" ng-show="isISO" autoscroll></div>
    <div ng-include="'dublin.html'" ng-show="isDublin" autoscroll></div>

</div>
</div>
</body>
</html>
